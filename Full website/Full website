*** INTRODUCTION ***



*** CONTEXT ***

* LITTERATURE REVIEW *

(Jasmine)

* MOTIVATIONS *

*** METHODOLOY ***

* DATA SETS *

Data Sets

To perform our analysis, we decided to combine two data sets:  
the ‘Billboard Year End Hot 100 songs’ chart from 1970  to 2019 and the Spotify API.

These new dataset would allow us to analyze and create solid visualizations on the evolution of popular songs trough decades.

‘Year End, Hot 100 songs Billboard chart’

The Year End, Hot 100 songs Billboard chart ranks every year the most listened songs in the United States. 
Songs appearing on top of the chart can most of the time be considered as ‘very popular’.  

For our project, we decided to only keep the top 20 songs of the billboard chart each year between 1970 and 2019. 
We believed that the top 20 really represented the popular songs of the year. Moreover, choosing as much as 20 songs rather than less, 
left us with a large enough database to perform a solid analysis.

'Spotify API'

After having chosen the songs we wanted to analyze, we used the Spotify API to obtain the audio feature of our songs. 

In order to work with this Spotify API, we used a new python library 'Spotipy'.
‘Spotipy’ is a library created by Spotify to access all the music data provided by Spotify including
the audio features of a track.

In order for the Spotify API to analyze our tracks, we added the top 20 songs per year into playlists on Spotify :
We created four playlists with the top 20 songs per year per decade under the profile XXX. 
We left these playlists public and accessible to all as we believe in the importance of Open Data. 
This would allow other people to use it too if needed. 

We obtained our final data set to analyze. 

'Line graphs'
Line graph was chosen for the first stage of our data visualization. It can demonstrate the change and evolution over time simply and effectively. Line graphs illustrate some basic patterns and general trends through summary statistics such as mean and median. By comparing different data types, we can evaluate the data more comprehensively (e.g., is mean affected by outliers?). To avoid presenting a lot of graphs on one page, we adopted an interactive graph. In this way, viewers are allowed to choose the data they are interested in and see the comparison among factors. 

How we utilize Python to process line graphs:
import pandas as pd
import plotly.express as px
Import pandas
Use plotly as the foundation of the graph (reference)

df1 = pd.read_csv('Data/median.csv')
fig1 = px.line(df1, x = 'Year', y = ['Median length', 'Median Danceability', 'Median Energy', 'Median Instrumentalness', 'Median Acousticness', 'Median Liveness', 'Median Loudness', 'Median Speechiness', 'Median Tempo', 'Median Time signature'], title = ‘Median')
Change elements to adapt our project.

fig1.write_html(‘Output/Median.html’)

Eventually, we convert the graphs into HTML files to insert them to our website.

* ANALYSIS * 

k-means and PCA
Both principal components analysis (PCA) and k-means were used in this clustering analysis. 

Each song had multiple (11) dimensions, which were each of the audio features. PCA was used to reduce the dimensionality, which would help reduce the noise in the k-means clustering algorithm. It was used to essentially standardized and whiten the data. In this analysis, 9 dimensions were dropped. 

K-means clustering was then used to find the natural groupings of songs. Since the PCA retained components with the highest variance, the clusters will be more visible as they will be the most spread out. PCA 1 accounts for over 25% of the variance while PCA 2 accounts for approximately 13% of the variance. 

The elbow method suggested 3 groupings. The first group (named as cluster 0) includes songs such as Hello by Adele, Rosanna by Toto and Take Me Home, Country Roads by John Denver. The second group (named as cluster 1) has songs such as ABC by The Jackson 5, Don’t Go Breaking My Heart by Elton John and Pompeii by Bastille. The third and final grouping (named as cluster 2) contains tracks such as I’ll Make Love To You by Boyz II Men, Perfect by Ed Sheeran and One More Try by George Michael. 

The first group is the smallest, containing only 30 songs. They had the lowest danceability and energy, with an average of 0.494 and 0.369 respectively on a 0 to 1 scale. These songs also had the highest acousticness at an average of 0.528 on a 0 to 1 scale. They also had the highest average tempo. 

References: https://stats.stackexchange.com/questions/235946/pca-before-cluster-analysis 
https://stats.stackexchange.com/questions/183236/what-is-the-relation-between-k-means-clustering-and-pca 

*** RESULTS ***

* VISUALISATION *

(Everyone) 

The results from our analysis allowed us to create a range of visulation displaying the evolution of the audio feautures of the top hits songs since 1970.

- Radar Chart 

(Radar Chart 1)
We created a radar chart to display the mean audio feautures of the top '20 hit songs per year' per decade. 

We can observe that top hit songs did evolved trough decades. This phenonomenon is even more accentuated when comparing audiofeatures of 1970 to 1979 hit songs
and 2010 to 2019 hit songs.

(Radar Chart 2)

We can see that in 50 years there has been a sharp decrease in  accousticness. However, the Energy and Danceabilty of songs has increased. Other features
have remained quite stable trough years. 
We can observe that the change has been gradual with 80s and 90s songs having already less accousticness and more energy and Danciceability than 70s songs. 

We can now see in more details how each audio feature evolved trough years:

- Line graphs 
- Regression 
- CLustering 

* EVALUATION*

 *** LIMITS ***
 
 
 *** CONCLUSIONS ***



